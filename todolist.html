<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elegant To-Do List</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --success: #4CAF50;
            --task-bg: rgba(255, 255, 255, 0.95);
            --shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            --border-radius: 20px;
        }

        .dark-mode {
            --primary: #8a2be2;
            --secondary: #4d9dfc;
            --light: #121212;
            --dark: #f8f9fa;
            --gray: #adb5bd;
            --task-bg: rgba(30, 30, 40, 0.95);
            --shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: var(--dark);
            transition: background 0.5s ease;
        }

        .container {
            width: 100%;
            max-width: 500px;
            background: var(--task-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 30px 25px;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(20deg);
        }

        .date-display {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 0.9rem;
            opacity: 0.85;
        }

        .input-section {
            padding: 25px;
            display: flex;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .input-section input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: rgba(245, 247, 255, 0.6);
            border-radius: 50px;
            font-size: 1.1rem;
            outline: none;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s;
            color: var(--dark);
        }

        .input-section input:focus {
            box-shadow: inset 0 2px 8px rgba(106, 17, 203, 0.2);
        }

        .input-section button {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-left: 15px;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(106, 17, 203, 0.3);
            transition: all 0.3s;
        }

        .input-section button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(106, 17, 203, 0.4);
        }

        .filter-section {
            display: flex;
            justify-content: center;
            padding: 15px;
            background: rgba(245, 247, 255, 0.6);
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .filter-section button {
            background: none;
            border: none;
            padding: 8px 20px;
            margin: 0 5px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            transition: all 0.3s;
        }

        .filter-section button.active, 
        .filter-section button:hover {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }

        .tasks-section {
            padding: 0 25px 25px;
            max-height: 400px;
            overflow-y: auto;
        }

        .task {
            display: flex;
            align-items: center;
            padding: 18px 15px;
            margin: 15px 0;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            animation: slideIn 0.4s ease-out;
            transition: all 0.3s;
            border-left: 4px solid var(--primary);
        }

        .dark-mode .task {
            background: rgba(40, 40, 50, 0.7);
        }

        .task:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .task.completed {
            border-left-color: var(--success);
            opacity: 0.8;
        }

        .task.completed .task-text {
            text-decoration: line-through;
            color: var(--gray);
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid #ddd;
            margin-right: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .task.completed .task-checkbox {
            background: var(--success);
            border-color: var(--success);
        }

        .task-checkbox i {
            color: white;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .task.completed .task-checkbox i {
            opacity: 1;
        }

        .task-text {
            flex: 1;
            font-size: 1.1rem;
            word-break: break-word;
            padding-right: 10px;
        }

        .task-actions {
            display: flex;
        }

        .task-actions button {
            background: none;
            border: none;
            cursor: pointer;
            margin-left: 10px;
            color: var(--gray);
            transition: all 0.2s;
        }

        .task-actions button:hover {
            color: var(--accent);
            transform: scale(1.1);
        }

        .stats-section {
            display: flex;
            justify-content: space-between;
            padding: 20px 25px;
            background: rgba(245, 247, 255, 0.6);
            border-top: 1px solid rgba(0,0,0,0.1);
            font-size: 0.95rem;
            color: var(--gray);
            font-weight: 500;
        }

        .dark-mode .stats-section {
            background: rgba(40, 40, 50, 0.7);
        }

        .clear-btn {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(255, 65, 108, 0.3);
            transition: all 0.3s;
        }

        .clear-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 65, 108, 0.4);
        }

        /* Scrollbar styling */
        .tasks-section::-webkit-scrollbar {
            width: 8px;
        }

        .tasks-section::-webkit-scrollbar-track {
            background: rgba(241, 241, 241, 0.5);
            border-radius: 10px;
        }

        .tasks-section::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            border-radius: 10px;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 5rem;
            margin-bottom: 20px;
            color: rgba(221, 221, 221, 0.5);
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
        }

        @media (max-width: 500px) {
            .container {
                border-radius: 15px;
            }
            
            header {
                padding: 25px 15px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .input-section, .tasks-section {
                padding: 20px 15px;
            }
            
            .task {
                padding: 15px 12px;
            }
            
            .clear-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <div class="date-display" id="dateDisplay"></div>
            <h1>Elegant Tasks</h1>
            <p>Organize your day with style</p>
        </header>
        
        <div class="input-section">
            <input type="text" id="taskInput" placeholder="Add a new task...">
            <button id="addTaskBtn"><i class="fas fa-plus"></i></button>
        </div>
        
        <div class="filter-section">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="active">Active</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
        </div>
        
        <div class="tasks-section" id="tasksContainer">
            <div class="empty-state">
                <i class="fas fa-clipboard-list"></i>
                <h3>No tasks yet</h3>
                <p>Add your first task to get started!</p>
            </div>
        </div>
        
        <div class="stats-section">
            <div class="task-count" id="taskCount">0 tasks</div>
            <button class="clear-btn" id="clearCompletedBtn">Clear Completed</button>
        </div>
    </div>

    <script>
        // DOM Elements
        const taskInput = document.getElementById('taskInput');
        const addTaskBtn = document.getElementById('addTaskBtn');
        const tasksContainer = document.getElementById('tasksContainer');
        const taskCount = document.getElementById('taskCount');
        const clearCompletedBtn = document.getElementById('clearCompletedBtn');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const dateDisplay = document.getElementById('dateDisplay');
        const themeToggle = document.getElementById('themeToggle');
        
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let currentFilter = 'all';
        let isDarkMode = localStorage.getItem('darkMode') === 'true';
        
        // Initialize the app
        function init() {
            setTheme();
            updateDateDisplay();
            renderTasks();
            setupEventListeners();
        }
        
        function setTheme() {
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.body.classList.remove('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        }
        
        function updateDateDisplay() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            dateDisplay.textContent = now.toLocaleDateString('en-US', options);
        }
        
        function setupEventListeners() {
            addTaskBtn.addEventListener('click', addTask);
            taskInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addTask();
            });
            
            clearCompletedBtn.addEventListener('click', clearCompletedTasks);
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentFilter = btn.dataset.filter;
                    renderTasks();
                });
            });
            
            themeToggle.addEventListener('click', toggleTheme);
        }
        
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            localStorage.setItem('darkMode', isDarkMode);
            setTheme();
        }
        
        function addTask() {
            const taskText = taskInput.value.trim();
            if (taskText === '') return;
            
            const newTask = {
                id: Date.now(),
                text: taskText,
                completed: false,
                timestamp: new Date()
            };
            
            tasks.unshift(newTask);
            saveTasks();
            renderTasks();
            
            // Animation effect
            taskInput.value = '';
            taskInput.focus();
            
            // Create confetti effect
            createConfetti();
        }
        
        function createConfetti() {
            const colors = ['#ff6b6b', '#4d9dfc', '#6a11cb', '#4CAF50', '#FFC107'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.top = `${-10 + Math.random() * 20}%`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                document.body.appendChild(confetti);
                
                // Animate confetti
                const animation = confetti.animate([
                    { opacity: 1, transform: `translateY(0) rotate(0deg)` },
                    { opacity: 1, transform: `translateY(${100 + Math.random() * 100}vh) rotate(${360 + Math.random() * 360}deg)` }
                ], {
                    duration: 2000 + Math.random() * 3000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }
        
        function renderTasks() {
            if (tasks.length === 0) {
                tasksContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <h3>No tasks yet</h3>
                        <p>Add your first task to get started!</p>
                    </div>
                `;
                taskCount.textContent = '0 tasks';
                return;
            }
            
            // Filter tasks
            let filteredTasks = tasks;
            if (currentFilter === 'active') {
                filteredTasks = tasks.filter(task => !task.completed);
            } else if (currentFilter === 'completed') {
                filteredTasks = tasks.filter(task => task.completed);
            }
            
            if (filteredTasks.length === 0) {
                tasksContainer.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-check-circle"></i>
                        <h3>No ${currentFilter} tasks</h3>
                        <p>${currentFilter === 'active' ? 'All tasks are completed!' : 'Complete some tasks to see them here!'}</p>
                    </div>
                `;
            } else {
                tasksContainer.innerHTML = filteredTasks.map(task => `
                    <div class="task ${task.completed ? 'completed' : ''}" data-id="${task.id}">
                        <div class="task-checkbox">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="task-text">${task.text}</div>
                        <div class="task-actions">
                            <button class="edit-btn"><i class="fas fa-edit"></i></button>
                            <button class="delete-btn"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                `).join('');
                
                // Add event listeners to new task elements
                document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('click', toggleTaskStatus);
                });
                
                document.querySelectorAll('.delete-btn').forEach(btn => {
                    btn.addEventListener('click', deleteTask);
                });
                
                document.querySelectorAll('.edit-btn').forEach(btn => {
                    btn.addEventListener('click', editTask);
                });
            }
            
            // Update task count
            const totalTasks = tasks.length;
            const completedTasks = tasks.filter(task => task.completed).length;
            const activeTasks = totalTasks - completedTasks;
            
            taskCount.textContent = `${activeTasks} active ${activeTasks === 1 ? 'task' : 'tasks'}`;
        }
        
        function toggleTaskStatus(e) {
            const taskElement = e.target.closest('.task');
            const taskId = parseInt(taskElement.dataset.id);
            
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                saveTasks();
                renderTasks();
                
                // Add animation for completion
                if (task.completed) {
                    taskElement.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        taskElement.style.transform = '';
                    }, 300);
                }
            }
        }
        
        function deleteTask(e) {
            const taskElement = e.target.closest('.task');
            const taskId = parseInt(taskElement.dataset.id);
            
            tasks = tasks.filter(task => task.id !== taskId);
            saveTasks();
            
            // Add animation for deletion
            taskElement.style.transform = 'translateX(100%)';
            taskElement.style.opacity = '0';
            setTimeout(() => {
                renderTasks();
            }, 300);
        }
        
        function editTask(e) {
            const taskElement = e.target.closest('.task');
            const taskId = parseInt(taskElement.dataset.id);
            const taskTextElement = taskElement.querySelector('.task-text');
            const currentText = taskTextElement.textContent;
            
            const input = document.createElement('input');
            input.type = 'text';
            input.value = currentText;
            input.classList.add('edit-input');
            input.style.width = '100%';
            input.style.padding = '8px';
            input.style.border = '1px solid #ddd';
            input.style.borderRadius = '4px';
            input.style.fontSize = '1rem';
            
            taskTextElement.replaceWith(input);
            input.focus();
            
            input.addEventListener('blur', saveEdit);
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') saveEdit.call(input);
            });
            
            function saveEdit() {
                const newText = this.value.trim();
                if (newText === '') return;
                
                const task = tasks.find(t => t.id === taskId);
                if (task) {
                    task.text = newText;
                    saveTasks();
                    renderTasks();
                }
            }
        }
        
        function clearCompletedTasks() {
            tasks = tasks.filter(task => !task.completed);
            saveTasks();
            renderTasks();
            
            // Animation effect
            clearCompletedBtn.textContent = 'Cleared!';
            setTimeout(() => {
                clearCompletedBtn.textContent = 'Clear Completed';
            }, 1500);
        }
        
        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>